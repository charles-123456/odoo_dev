<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>

		<!-- Members View -->

		<record id="view_res_member_form" model="ir.ui.view">
			<field name="name">res.member.form</field>
			<field name="model">res.member</field>
			<field name="arch" type="xml">
				<form string="Members" duplicate="0">
					<sheet>
						<div class="oe_button_box" name="button_box">
						</div>
						<field name="image_1920" widget='image' class="oe_avatar"
							options='{"zoom": true, "preview_image": "image_128"}' />
						<div class="oe_title">
							<label for="name" string="First Name" />
							<h2>
								<field name="name" placeholder="First Name" default_focus="1" />
							</h2>
							<label for="middle_name" />
							<h2>
								<field name="middle_name" placeholder="Middle Name" />
							</h2>
							<label for="last_name" />
							<h2>
								<field name="last_name" placeholder="Last Name" />
							</h2>
							<div class="o_row">
								<label for="name_in_regional_language" style="margin-top: 20px;" />
								<field name="name_in_regional_language" placeholder="Name in Regional Language" />
							</div>
						</div>
						<group>
							<group>
								<field name="membership_type" required="1" />
								<field name="member_type" required="1" />
								<field name="title_id" options='{"no_open": True, "no_create": True}' />
								<field name="alias_name" />
								<field name="place_of_birth" />
								<field name="family_id" />
							</group>
							<group>
								<field name="unique_code" />
								<field name="gender" required="1" options="{'horizontal': true}" widget="radio" />
								<field name="religion_id" />	
								<field name="is_dob_or_age" widget="radio" options="{'horizontal': true}" />
								<field name="dob" attrs="{'invisible': [('is_dob_or_age','=','age')]}" />
								<field name="age" attrs="{'readonly': [('is_dob_or_age','!=','age')]}" force_save="1" />
								<field name="member_full_name" invisible="1" />
							</group>
						</group>
						<group>
							<group>
								<field name="living_status" widget="radio" options='{"horizontal": true}' />
								<field name="monthly_income" />
								<field name="mother_tongue_id" options='{"no_open": True, "no_create": True}' />
								<field name="citizenship_id" options='{"no_open": True, "no_create": True}' />
							</group>
							<group>
								<field name="diocese_id" options='{"no_open": True, "no_create": True}' />
								<field name="vicariate_id" domain="[('diocese_id','=',diocese_id)]"
									options='{"no_open": True, "no_create": True}' />
								<field name="parish_id" domain="[('diocese_id','=',diocese_id)]"
									options='{"no_open": True, "no_create": True}' />
								<field name="is_parish_member" widget="radio"
									options='{"horizontal": true}' />
								<field name="marital_status_id" domain="[('gender', '=', gender)]"
									options='{"no_open": True, "no_create": True}'
									attrs="{'invisible': ['|',('age','&lt;','18'),('member_type','!=','member')]}" />
								<field name="marital_status" invisible="1" />

							</group>
						</group>
						<group>
							<group>
								<field name="native_diocese_id" options='{"no_open": True, "no_create": True}'
									context="{'bypass_rule':True}" />
								<field name="native_parish_id" domain="[('diocese_id','=',native_diocese_id)]"
									context="{'bypass_rule':True}" options='{"no_open": True, "no_create": True}' />
							</group>
							<group>
								<field name="occupation_type" />
								<field name="occupation_status" />
							</group>
						</group>
						<group>
							<group>
								<label for="street" string="Address" />
								<div class="o_address_format">
									<field name="street" placeholder="Street..." required="1"
										class="o_address_street" />
									<field name="city" placeholder="Suburb/City" required="1"
										class="o_address_street" />
									<field name="state_id" style="width: 60%%" required="1"
										placeholder="State" options='{"no_open": True, "no_create": True}' />
									<field name="zip" style="width: 40%%" placeholder="PIN Code"
										required="1" />
									<field name="country_id" placeholder="Country" required="1"
										class="o_address_country" options='{"no_open": True, "no_create": True}' />
								</div>
							</group>
							<group>
								<field name="mobile" string="Mobile" />
								<field name="email" widget="email" string="Email" />
								<field name="fax" />
								<field name="website" widget="url" string="Website/Blog"
									placeholder="e.g. www.lourdeschurchyelagiri.org" />
							</group>
						</group>

						<notebook name="member">
							<page string="Sacraments" name="sacraments">
								<group>
									<group string="Baptism" name="baptism">
										<field name="bapt_date" string="Date" />
										<field name="baptism_parish_id" string="Parish"
											options='{"no_open": True, "no_create": True}' />
										<field name="baptism_diocese_id" string="Diocese" />
										<field name="minister_of_baptism" />
									</group>
									<group string="Confirmation" name="confirmation">
										<field name="cnf_date" string="Date" />
										<field name="cnf_parish_id" string="Parish"
											options='{"no_open": True, "no_create": True}' />
										<field name="cnf_diocese_id" string="Diocese" />
										<field name="minister_of_cnf" />
									</group>
									<group string="First Holy Communion" name="fhc">
										<field name="fhc_date" string="Date" />
										<field name="fhc_parish_id" string="Parish"
											options='{"no_open": True, "no_create": True}' />
										<field name="fhc_diocese_id" string="Diocese" />
										<field name="minister_of_fhc" />
									</group>
								</group>
							</page>
							<page string="Education" name="education">
								<field name="member_education_ids" context="{'default_member_type':member_type}">
									<form>
										<group>
											<group>
												<field name="study_level_id" string="Level"
													domain="[('study_level_ids', '!=', member_type)]" />
												<field name="program_id" string="Program of Study"
													required="1" />
												<field name="core_disiplines_ids" widget="many2many_tags" />
												<field name="particulars" />
												<field name="state" />
												<field name="store_name" invisible="1" />
												<field name="attachment" filename="store_name" />
											</group>
											<group>
												<field name="institution" string="Place and Institute" />
												<field name="board_or_university" />
												<field name="year_of_passing" />
												<field name="duration" />
												<field name="mode" required="1" />
												<field name="result" />
												<field name="member_type" invisible="1" />
											</group>
										</group>
										<notebook>
											<page name="notes" string="Remarks">
												<field name="note" placeholder="write something...." />
											</page>
										</notebook>
									</form>
									<tree>
										<field name="study_level_id" />
										<field name="program_id" />
										<field name="institution" placeholder="Place/City/Institution" />
										<field name="year_of_passing" />
										<field name="state" />
									</tree>
								</field>
							</page>
							<page string="Attachments">
								<field name="attachment_ids" widget="many2many_binary" />
							</page>
							<page name='internal_notes' string="Remarks">
								<field name="comment" placeholder="Input an internal note in here..." />
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>

		<record id="view_res_member_tree" model="ir.ui.view">
			<field name="name">res.member.tree</field>
			<field name="model">res.member</field>
			<field name="arch" type="xml">
				<tree string="Member" default_order="name asc" import="1">
					<field name="name" />
					<field name="mobile" optional="show" />
					<field name="email" optional="show" />
					<field name="dob" width="0.8" optional="hide" />
					<field name="city" string="Suburb/City" optional="hide" />
					<field name="native_parish_id" optional="hide" />
				</tree>
			</field>
		</record>

		<record id="view_res_member_kanban" model="ir.ui.view">
			<field name="name">res.member.kanban</field>
			<field name="model">res.member</field>
			<field name="arch" type="xml">
				<kanban>
					<field name="id" />
					<field name="image_1920" />
					<field name="unique_code" />
					<field name="mobile" />
					<field name="email" />
					<field name="member_type" />
					<templates>
						<t t-name="kanban-box">
							<t t-set="cr_bdg_color" t-value="'#999900'" />
							<t t-if="record.member_type.raw_value == 'priest'">
								<t t-set="cr_bdg_color" t-value="'#43d179'" />
							</t>
							<t t-elif="record.member_type.raw_value == 'member'">
								<t t-set="cr_bdg_color" t-value="'#404561'" />
							</t>
							<t t-elif="record.member_type.raw_value == 'brother'">
								<t t-set="cr_bdg_color" t-value="'#41b5a8'" />
							</t>
							<t t-elif="record.member_type.raw_value == 'sister'">
								<t t-set="cr_bdg_color" t-value="'#6767c2'" />
							</t>
							<div
								class="oe_kanban_global_click o_kanban_record_has_image_fill o_res_member_kanban">
								<t t-if="record.image_1920.raw_value">
									<div class="o_kanban_image_fill_left d-none d-md-block"
										t-attf-style="background-image:url('#{kanban_image('res.member', 'image_1920', record.id.raw_value)}')" />
								</t>
								<t t-else="">
									<img class="o_kanban_image" alt="Avatar"
										t-att-src='_s + "/base/static/img/avatar_grey.png"' />
								</t>
								<div class="oe_kanban_details">
									<div class="o_kanban_record_top">
										<div class="o_kanban_record_title oe_partner_heading">
											<strong>
												<field name="name" />
											</strong>
										</div>
									</div>
									<ul>
										<li t-if="record.mobile.raw_value">
											<i class="fa fa-mobile fa-lg"></i>
											<field name="mobile" />
										</li>
										<li t-if="record.email.raw_value" class="o_text_overflow">
											<i class="fa fa-envelope"></i>
											<field name="email" />
										</li>
									</ul>
									<t t-if="record.member_type.raw_value">
										<div
											t-attf-style="position: absolute;bottom: 3px;right: 3px;padding: 0.25em 0.4em;color: #fff;border-radius: 5px;line-height: 1;background-color: {{cr_bdg_color}}">
											<field name="member_type" />
										</div>
									</t>
								</div>
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>

		<record id="view_res_member_search" model="ir.ui.view">
			<field name="name">res.member.search</field>
			<field name="model">res.member</field>
			<field name="arch" type="xml">
				<search>
					<field name="name" />
					<field name="unique_code" />
					<field name="dob" />
					<field name="mobile" />
					<field name="city" />
					<filter string="Archived" name="inactive" domain="[('active', '=', False)]" />
					<filter string="Priest" name="priest"
						domain="[('member_type','=','priest')]" />
					<filter string="Brother" name="brother"
						domain="[('member_type','=','brother')]" />
					<filter string="Sister" name="sister"
						domain="[('member_type','=','sister')]" />
					<separator />
					<filter string="Male" name="male" domain="[('gender','=','male')]" />
					<filter string="Female" name="female" domain="[('gender','=','female')]" />
					<group expand="0" string="Group By">
						<filter string="Member Type" name="member_type"
							context="{'group_by':'member_type'}" />
						<filter string="Gender" name="gender" context="{'group_by':'gender'}" />
						<filter string="Native Parish" name="native_parish_id"
							context="{'group_by':'native_parish_id'}" />
					</group>
				</search>
			</field>
		</record>

		<record id="view_res_member_graph" model="ir.ui.view">
			<field name="name">res.member.graph</field>
			<field name="model">res.member</field>
			<field name="arch" type="xml">
				<graph string="Member" type="bar" stacked="0">
					<field name="member_type" />
					<field name="membership_type" type="col" />
				</graph>
			</field>
		</record>

		<record id="view_res_member_pivot" model="ir.ui.view">
			<field name="name">res.member.pivot</field>
			<field name="model">res.member</field>
			<field name="arch" type="xml">
				<pivot string="Member">
					<field name="membership_type" type="col" />
					<field name="member_type" type="row" />
				</pivot>
			</field>
		</record>

		<record id="action_res_member" model="ir.actions.act_window">
			<field name="name">Members</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">res.member</field>
			<field name="view_mode">tree,form,kanban,graph,pivot</field>
			<field name="view_ids"
                   eval="[(5, 0, 0),
                   		  (0, 0, {'view_mode': 'tree', 'view_id': ref('view_res_member_tree')}),
                   		  (0, 0, {'view_mode': 'form', 'view_id': ref('view_res_member_form')}),
                          (0, 0, {'view_mode': 'graph', 'view_id': ref('view_res_member_graph')}),
                          (0, 0, {'view_mode': 'pivot', 'view_id': ref('view_res_member_pivot')})]" />
			<field name="search_view_id" ref="cristo.view_res_member_search" />
			<field name="domain">[('member_type','=','member')]</field>
            <field name="context">{'default_member_type':'member','default_membership_type':'LT'}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					Create a new Member
				</p>
			</field>
		</record>

		<!-- Common Members View -->

		<record id="view_res_member_common_form" model="ir.ui.view">
			<field name="name">res.member.common.form</field>
			<field name="model">res.member</field>
			<field name="arch" type="xml">
				<form string="Members" duplicate="0">
					<sheet>
						<div class="oe_button_box" name="button_box">
						</div>
						<field name="image_1920" widget='image' class="oe_avatar"
							options='{"zoom": true, "preview_image": "image_128"}' />
						<div class="oe_title">
							<label for="name" string="First Name" />
							<h2>
								<field name="name" placeholder="Middle Name"
									default_focus="1" />
							</h2>
							<label for="middle_name" />
							<h2>
								<field name="middle_name" placeholder="Middle Name" />
							</h2>
							<label for="last_name" />
							<h2>
								<field name="last_name" placeholder="Last Name" />
							</h2>
							<div class="o_row">
								<label for="name_in_regional_language" style="margin-top: 20px;" />
								<field name="name_in_regional_language" placeholder="Name in Regional Language" />
							</div>
						</div>
						<group>
							<group>
								<field name="present_diocese_id" />
								<field name="membership_type" required="1" />
								<field name="member_type" required="1" />
								<field name="title_id" options='{"no_open": True, "no_create": True}' />
								<field name="alias_name" />
							</group>
							<group>
								<field name="native_diocese_id" options='{"no_open": True, "no_create": True}' />
								<field name="unique_code" />
								<field name="gender" required="1" options="{'horizontal': true}" widget="radio" />
								<field name="is_dob_or_age" widget="radio" options="{'horizontal': true}" />
								<field name="dob" attrs="{'invisible': [('is_dob_or_age','=','age')]}" />
								<field name="age" attrs="{'readonly': [('is_dob_or_age','!=','age')]}" force_save="1" />
								<field name="member_full_name" invisible="1" />
							</group>
						</group>
						<group>
							<group>
								<field name="citizenship_id" options='{"no_open": True, "no_create": True}' />
							</group>
							<group>
								<field name="diocese_id" options='{"no_open": True, "no_create": True}' />
								<field name="vicariate_id" domain="[('diocese_id','=',diocese_id)]"
									options='{"no_open": True, "no_create": True}' />
								<field name="parish_id" domain="[('diocese_id','=',diocese_id)]"
									options='{"no_open": True, "no_create": True}' />
							</group>
						</group>
						<group>
							<group>
								<label for="street" string="Address" />
								<div class="o_address_format">
									<field name="street" placeholder="Street..." required="1"
										class="o_address_street" />
									<field name="city" placeholder="Suburb/City" required="1"
										class="o_address_street" />
									<field name="state_id" style="width: 60%%" required="1"
										placeholder="State" options='{"no_open": True, "no_create": True}' />
									<field name="zip" style="width: 40%%" placeholder="PIN Code"
										required="1" />
									<field name="country_id" placeholder="Country" required="1"
										class="o_address_country" options='{"no_open": True, "no_create": True}' />
								</div>
							</group>
							<group>
								<field name="mobile" string="Mobile" />
								<field name="email" widget="email" string="Email" />
								<field name="fax" />
								<field name="website" widget="url" string="Website/Blog"
									placeholder="e.g. www.lourdeschurchyelagiri.org" />
							</group>
						</group>
						<notebook name="member">
							<page string="Sacraments" name="sacraments">
								<group>
									<group string="Baptism" name="baptism">
										<field name="bapt_date" string="Date" />
										<field name="baptism_parish_id" string="Parish"
											options='{"no_open": True, "no_create": True}' />
										<field name="baptism_diocese_id" string="Diocese" />
										<field name="minister_of_baptism" />
									</group>
									<group string="Confirmation" name="confirmation">
										<field name="cnf_date" string="Date" />
										<field name="cnf_parish_id" string="Parish"
											options='{"no_open": True, "no_create": True}' />
										<field name="cnf_diocese_id" string="Diocese" />
										<field name="minister_of_cnf" />
									</group>
									<group string="First Holy Communion" name="fhc">
										<field name="fhc_date" string="Date" />
										<field name="fhc_parish_id" string="Parish"
											options='{"no_open": True, "no_create": True}' />
										<field name="fhc_diocese_id" string="Diocese" />
										<field name="minister_of_fhc" />
									</group>
								</group>
							</page>
							<page string="Education" name="education">
								<field name="member_education_ids" context="{'default_member_type':member_type}">
									<form>
										<group>
											<group>
												<field name="study_level_id" string="Level"
													domain="[('study_level_ids', '!=', member_type)]" />
												<field name="program_id" string="Program of Study"
													required="1" />
												<field name="core_disiplines_ids" widget="many2many_tags" />
												<field name="particulars" />
												<field name="state" />
												<field name="store_name" invisible="1" />
												<field name="attachment" filename="store_name" />
											</group>
											<group>
												<field name="institution" string="Place and Institute" />
												<field name="board_or_university" />
												<field name="year_of_passing" />
												<field name="duration" />
												<field name="mode" required="1" />
												<field name="result" />
												<fields name="religion_id" invisible="1" />
												<field name="member_type" invisible="1" />
											</group>
										</group>
										<notebook>
											<page name="notes" string="Remarks">
												<field name="note" placeholder="write something...." />
											</page>
										</notebook>
									</form>
									<tree>
										<field name="study_level_id" />
										<field name="program_id" />
										<field name="institution" placeholder="Place/City/Institution" />
										<field name="year_of_passing" />
										<field name="state" />
									</tree>
								</field>
							</page>
							<page string="Profession" name="profession">
								<field name="profession_ids">
									<tree editable="bottom">
										<field name="type" />
										<field name="profession_date" />
										<field name="place" />
										<field name="years" />
										<field name="state" />
									</tree>
								</field>
							</page>
							<page string="Holy Order" name="holyorder">
								<field name="holyorder_ids">
									<tree editable="bottom">
										<field name="order" />
										<field name="date" />
										<field name="place" />
										<field name="minister" />
										<field name="state" />
									</tree>
								</field>
							</page>
							<page string="Attachments">
								<field name="attachment_ids" widget="many2many_binary" />
							</page>
							<page name='internal_notes' string="Remarks">
								<field name="comment" placeholder="Input an internal note in here..." />
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>

<!-- Secular Priest -->

		<record id="action_res_secular_priest" model="ir.actions.act_window">
			<field name="name">Secular Priest</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">res.member</field>
			<field name="view_mode">tree,form</field>
			<field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_res_member_common_form')})]"/>
			<field name="domain">[('member_type','=','priest'),('membership_type','=','SE')]</field>
			<field name="context">{'default_member_type':'priest','default_gender':'male',
            	'default_membership_type':'SE'}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					Create a new Member
				</p>
			</field>
		</record>
		
<!-- Secular Brother -->

		<record id="action_res_secular_brother" model="ir.actions.act_window">
			<field name="name">Secular Brother</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">res.member</field>
			<field name="view_mode">tree,form</field>
			<field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_res_member_common_form')})]"/>
			<field name="domain">[('member_type','=','brother'),('membership_type','=','SE')]</field>
			<field name="context">{'default_member_type':'brother','default_gender':'male',
            	'default_membership_type':'SE'}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					Create a new Member
				</p>
			</field>
		</record>
		
<!-- Secular Sister -->

		<record id="action_res_secular_sister" model="ir.actions.act_window">
			<field name="name">Secular Sister</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">res.member</field>
			<field name="view_mode">tree,form</field>
			<field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_res_member_common_form')})]"/>
			<field name="domain">[('member_type','=','sister'),('membership_type','=','SE')]</field>
			<field name="context">{'default_member_type':'sister','default_gender':'female',
            	'default_membership_type':'SE'}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">
					Create a new Member
				</p>
			</field>
		</record>
	</data>
</odoo>
